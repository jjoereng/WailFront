{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Joakim\\\\wailnofront\\\\pages\\\\epk.js\";\n\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"*[title == \\\"EPK\\\"][0]{\\n  title,\\n  body,\\n  pressphotos\\n\\n}\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\n// epk.js\nimport Link from 'next/link';\nimport groq from 'groq';\nimport client from '../client';\nimport BlockContent from '@sanity/block-content-to-react';\nimport styles from './epk.module.scss';\nimport imageUrlBuilder from '@sanity/image-url';\n\nvar EPK = function EPK(props) {\n  var _props$title = props.title,\n      title = _props$title === void 0 ? 'Missing title' : _props$title,\n      _props$body = props.body,\n      body = _props$body === void 0 ? [] : _props$body,\n      _props$pressphotos = props.pressphotos,\n      pressphotos = _props$pressphotos === void 0 ? [] : _props$pressphotos;\n  return __jsx(\"div\", {\n    \"class\": \"primary\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    \"class\": \"container-horizontal\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 20,\n      columnNumber: 7\n    }\n  }, __jsx(BlockContent, {\n    blocks: body,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 9\n    }\n  }), pressphotos && __jsx(\"div\", {\n    \"class\": \"container-vetical\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 11\n    }\n  }, __jsx(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 13\n    }\n  }, \"Press photos\"), pressphotos.map(function (pressphoto) {\n    return __jsx(\"a\", {\n      href: pressphoto.asset.url,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 13\n      }\n    }, __jsx(\"img\", {\n      \"class\": \"item\",\n      src: urlFor(pressphoto).width(250).url(),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 13\n      }\n    }));\n  }))));\n};\n\n_c = EPK;\n\nfunction urlFor(source) {\n  return imageUrlBuilder(client).image(source);\n}\n\nvar query = groq(_templateObject());\n\nEPK.getInitialProps = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(context) {\n    var _context$query$slug, slug;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            // It's important to default the slug so that it doesn't return \"undefined\"\n            _context$query$slug = context.query.slug, slug = _context$query$slug === void 0 ? \"\" : _context$query$slug;\n            _context.next = 3;\n            return client.fetch(query, {\n              slug: slug\n            });\n\n          case 3:\n            return _context.abrupt(\"return\", _context.sent);\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\n\nexport default EPK;\n\nvar _c;\n\n$RefreshReg$(_c, \"EPK\");","map":{"version":3,"sources":["C:/Users/Joakim/wailnofront/pages/epk.js"],"names":["Link","groq","client","BlockContent","styles","imageUrlBuilder","EPK","props","title","body","pressphotos","map","pressphoto","asset","url","urlFor","width","source","image","query","getInitialProps","context","slug","fetch"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA,OAAOA,IAAP,MAAiB,WAAjB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;;AAIA,IAAMC,GAAG,GAAG,SAANA,GAAM,CAACC,KAAD,EAAW;AAAA,qBAKjBA,KALiB,CAEnBC,KAFmB;AAAA,MAEnBA,KAFmB,6BAEX,eAFW;AAAA,oBAKjBD,KALiB,CAGnBE,IAHmB;AAAA,MAGnBA,IAHmB,4BAGZ,EAHY;AAAA,2BAKjBF,KALiB,CAInBG,WAJmB;AAAA,MAInBA,WAJmB,mCAIL,EAJK;AAOrB,SACE;AAAK,aAAM,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,aAAM,sBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,YAAD;AAAc,IAAA,MAAM,EAAED,IAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEGC,WAAW,IACV;AAAK,aAAM,mBAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,EAEGA,WAAW,CAACC,GAAZ,CAAgB,UAAAC,UAAU;AAAA,WAC3B;AAAG,MAAA,IAAI,EAAEA,UAAU,CAACC,KAAX,CAAiBC,GAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAK,eAAM,MAAX;AAAkB,MAAA,GAAG,EAAEC,MAAM,CAACH,UAAD,CAAN,CAAmBI,KAAnB,CAAyB,GAAzB,EAA8BF,GAA9B,EAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,CAD2B;AAAA,GAA1B,CAFH,CAHJ,CADF,CADF;AAiBD,CAxBD;;KAAMR,G;;AA0BN,SAASS,MAAT,CAAiBE,MAAjB,EAAyB;AACvB,SAAOZ,eAAe,CAACH,MAAD,CAAf,CAAwBgB,KAAxB,CAA8BD,MAA9B,CAAP;AACD;;AAGD,IAAME,KAAK,GAAGlB,IAAH,mBAAX;;AAOAK,GAAG,CAACc,eAAJ;AAAA,sEAAsB,iBAAgBC,OAAhB;AAAA;;AAAA;AAAA;AAAA;AAAA;AACpB;AADoB,kCAEEA,OAAO,CAACF,KAFV,CAEZG,IAFY,EAEZA,IAFY,oCAEL,EAFK;AAAA;AAAA,mBAGPpB,MAAM,CAACqB,KAAP,CAAaJ,KAAb,EAAoB;AAACG,cAAAA,IAAI,EAAJA;AAAD,aAApB,CAHO;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAtB;;AAAA;AAAA;AAAA;AAAA;;AAMA,eAAehB,GAAf","sourcesContent":["// epk.js\r\nimport Link from 'next/link';\r\nimport groq from 'groq';\r\nimport client from '../client';\r\nimport BlockContent from '@sanity/block-content-to-react'\r\nimport styles from './epk.module.scss';\r\nimport imageUrlBuilder from '@sanity/image-url';\r\n\r\n\r\n\r\nconst EPK = (props) => {\r\n  const {\r\n    title = 'Missing title',\r\n    body = [],\r\n    pressphotos = [],\r\n  } = props;\r\n\r\n  return (\r\n    <div class=\"primary\">\r\n      <div class=\"container-horizontal\">\r\n        <BlockContent blocks={body}/>\r\n        {pressphotos && \r\n          <div class=\"container-vetical\">\r\n            <h2>Press photos</h2>\r\n            {pressphotos.map(pressphoto => \r\n            <a href={pressphoto.asset.url}>\r\n            <img class=\"item\" src={urlFor(pressphoto).width(250).url()}/>\r\n            </a>\r\n            )}\r\n         </div> \r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction urlFor (source) {\r\n  return imageUrlBuilder(client).image(source)\r\n}\r\n\r\n\r\nconst query = groq`*[title == \"EPK\"][0]{\r\n  title,\r\n  body,\r\n  pressphotos\r\n\r\n}`;\r\n\r\nEPK.getInitialProps = async function (context) {\r\n  // It's important to default the slug so that it doesn't return \"undefined\"\r\n  const { slug = \"\" } = context.query;\r\n  return await client.fetch(query, {slug});\r\n}\r\n\r\nexport default EPK;"]},"metadata":{},"sourceType":"module"}